{"version":3,"sources":["Grid.js","utils.js","DLX.js","Alert.js","App.js","serviceWorker.js","index.js"],"names":["Box","focus","onKeyDown","onChange","value","setFocusedBox","useFocus","inputRef","setInputFocus","useState","height","setHeight","tdRef","useRef","useEffect","current","clientHeight","ref","autoComplete","pattern","type","onClick","style","fontSize","htmlElRef","handleKeys","e","currentBoxX","currentBoxY","move","x","y","preventDefault","focusRow","focusColumn","which","shiftKey","target","Grid","grid2D","setGrid2D","focusedBox","cellSpacing","rows","i","row","j","push","key","slice","updateGrid","displayGrid","make2DFull","arr","make2DEmpty","width","nodeMatrix","Node","header","solution","uniqueSolutions","getRight","getLeft","cols","getUp","getDown","preprocess","initNodeMatrix","bitMatrix","a","b","nodeCnt","column","rowID","colID","left","right","up","down","makeDonut","solve","arrayToSolve","grid","choose","parseInt","chooseGiven","t0","performance","now","result","search","length","h","minCol","getMinColumn","cover","rowNode","rightNode","pop","leftNode","uncover","error","success","sort","convertSolution","showResult","t1","console","log","colNode","getNodeFromRow","Alert","alertMessage","AlertType","setAlertMessage","setAlertType","className","verticalAlign","minWidth","App","HelpOutline","id","Error","href","Boolean","window","location","hostname","match","ReactDOM","render","StrictMode","document","getElementById","navigator","serviceWorker","ready","then","registration","unregister","catch","message"],"mappings":"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","file":"static/js/main.47d3bae4.chunk.js","sourcesContent":["import React, { useRef, useEffect, useState } from \"react\";\n\nfunction Grid({ grid2D, setGrid2D, focusedBox, setFocusedBox }) {\n  // useState explained: https://reactjs.org/docs/hooks-state.html\n  return (\n    <table cellSpacing=\"0\">\n      <tbody>{displayGrid(focusedBox, setFocusedBox, grid2D, setGrid2D)}</tbody>\n    </table>\n  );\n}\n\nfunction displayGrid(\n  { focusRow, focusColumn },\n  setFocusedBox,\n  grid2D,\n  setGrid2D\n) {\n  let rows = [];\n  for (let i = 0; i < 9; i++) {\n    let row = [];\n    for (let j = 0; j < 9; j++) {\n      const focus = focusRow === i && focusColumn === j;\n      row.push(\n        <Box\n          key={i + \"\" + j}\n          focus={focus}\n          onKeyDown={(e) => handleKeys(e, i, j, setFocusedBox)}\n          onChange={(e) => updateGrid(e, i, j, grid2D, setGrid2D)}\n          value={grid2D[i][j]}\n          setFocusedBox={() =>\n            setFocusedBox({\n              focusRow: i,\n              focusColumn: j,\n            })\n          }\n        />\n      );\n    }\n    rows.push(<tr key={i}>{row}</tr>);\n  }\n  return rows;\n}\n\nfunction updateGrid(e, currentBoxX, currentBoxY, grid2D, setGrid2D) {\n  grid2D[currentBoxX][currentBoxY] = e.target.value;\n  setGrid2D(grid2D.slice());\n}\n\nfunction Box({ focus, onKeyDown, onChange, value, setFocusedBox }) {\n  const [inputRef, setInputFocus] = useFocus();\n  const [height, setHeight] = useState(0);\n  const tdRef = useRef(null);\n\n  useEffect(() => {\n    if (focus) {\n      setInputFocus();\n    }\n  }, [focus, setInputFocus]);\n\n  useEffect(() => {\n    setHeight(tdRef.current.clientHeight);\n  }, [setHeight]);\n\n  return (\n    <td ref={tdRef}>\n      <input\n        ref={inputRef}\n        autoComplete=\"new-password\"\n        pattern=\"\\d\"\n        type=\"number\"\n        onKeyDown={onKeyDown}\n        onChange={onChange}\n        value={value}\n        onClick={setFocusedBox}\n        style={{ fontSize: height / 1.6 }}\n      />\n    </td>\n  );\n}\n\n// taken from https://stackoverflow.com/a/54159564\nconst useFocus = () => {\n  const htmlElRef = useRef(null);\n  const setFocus = () => {\n    htmlElRef.current && htmlElRef.current.focus();\n  };\n  return [htmlElRef, setFocus];\n};\n\nconst handleKeys = (e, currentBoxX, currentBoxY, setFocusedBox) => {\n  const move = (x, y) => {\n    e.preventDefault();\n    setFocusedBox({\n      focusRow: currentBoxX + x,\n      focusColumn: currentBoxY + y,\n    });\n  };\n\n  if (e.which === 39) {\n    // Right Arrow\n    move(0, 1);\n  } else if (e.which === 37) {\n    // Left Arrow\n    move(0, -1);\n  } else if (e.which === 38) {\n    // Up Arrow\n    move(-1, 0);\n  } else if (e.which === 40) {\n    // Down Arrow\n    move(1, 0);\n  } else if ((e.which === 9 && !e.shiftKey) || e.which === 13) {\n    // Tab (go right)\n    if (currentBoxY === 8) {\n      move(1, -8);\n    } else {\n      move(0, 1);\n    }\n  } else if (e.which === 9 && e.shiftKey) {\n    // Shift + Tab (go left)\n    if (currentBoxY === 0) {\n      move(-1, 8);\n    } else {\n      move(0, -1);\n    }\n  } else if (\n    e.which === 96 ||\n    e.which === 46 ||\n    e.which === 48 ||\n    e.which === 69 ||\n    e.which === 107 ||\n    e.which === 109 ||\n    e.which === 110 ||\n    e.which === 187 ||\n    e.which === 189 ||\n    e.which === 190\n  ) {\n    // Block \"0\"\n    e.preventDefault();\n  } else if (e.which !== 8) {\n    // Clear input otherwise if not backspace\n    // as to guarantee change.\n    e.target.value = \"\";\n  }\n};\n\nexport default Grid;\n","export function make2DFull(value) {\n  var arr = [];\n  for (let i = 0; i < 9; i++) {\n    arr.push([]);\n    for (let j = 0; j < 9; j++) {\n      arr[i].push(value);\n    }\n  }\n  return arr;\n}\n\nexport function make2DEmpty(width) {\n  var arr = [];\n  for (var i = 0; i < width; i++) arr[i] = [];\n  return arr;\n}\n","import bitMatrix from \"./bitmatrix.json\";\nimport { make2DEmpty } from \"./utils.js\";\n\nclass Node {}\n\nvar nodeMatrix;\nvar header = new Node();\nvar rows = 729;\nvar cols = 324;\nvar solution = [];\nvar uniqueSolutions = [];\n\nvar getRight = (i) => (i + 1) % cols;\nvar getLeft = (i) => (i - 1 < 0 ? cols - 1 : i - 1);\nvar getUp = (i) => (i - 1 < 0 ? rows : i - 1);\nvar getDown = (i) => (i + 1) % (rows + 1);\n\nfunction preprocess() {\n  nodeMatrix = initNodeMatrix();\n  makeDonut(bitMatrix, nodeMatrix);\n}\n\npreprocess();\nexport function solve(arrayToSolve) {\n  chooseGiven(arrayToSolve);\n  const t0 = performance.now();\n  const result = showResult();\n  const t1 = performance.now();\n  console.log(\"Solve Time: \" + (t1 - t0) + \" milliseconds.\");\n  preprocess();\n  return result;\n}\n\nfunction initNodeMatrix() {\n  var nodeMatrix = make2DEmpty(rows + 1);\n  for (var i = 0; i <= rows; i++) {\n    for (var j = 0; j < cols; j++) {\n      nodeMatrix[i][j] = new Node();\n    }\n  }\n  return nodeMatrix;\n}\n\n// Builds circular doubly linked list\nfunction makeDonut(bitMatrix, nodeMatrix) {\n  var a, b;\n  // Extra row for headers\n  for (var i = 0; i <= rows; i++) {\n    for (var j = 0; j < cols; j++) {\n      if (!i) nodeMatrix[0][j].nodeCnt = 0;\n\n      // 1 corresponds with node\n      if (bitMatrix[i][j] || !i) {\n        // Increment nodeCnt if not a header node\n        if (i) nodeMatrix[0][j].nodeCnt++;\n\n        nodeMatrix[i][j].column = nodeMatrix[0][j];\n        nodeMatrix[i][j].rowID = i;\n        nodeMatrix[i][j].colID = j;\n\n        // Link nodes\n\n        a = i;\n        b = j;\n        do {\n          b = getLeft(b);\n        } while (!bitMatrix[a][b] && i && b !== j);\n        nodeMatrix[i][j].left = nodeMatrix[i][b];\n\n        a = i;\n        b = j;\n        do {\n          b = getRight(b);\n        } while (!bitMatrix[a][b] && i && b !== j);\n        nodeMatrix[i][j].right = nodeMatrix[i][b];\n\n        a = i;\n        b = j;\n        do {\n          a = getUp(a);\n        } while (!bitMatrix[a][b] && a && a !== i);\n        nodeMatrix[i][j].up = nodeMatrix[a][j];\n\n        a = i;\n        b = j;\n        do {\n          a = getDown(a);\n        } while (!bitMatrix[a][b] && a && a !== i);\n        nodeMatrix[i][j].down = nodeMatrix[a][j];\n      } else {\n        nodeMatrix[i][j] = null;\n      }\n    }\n  }\n  // Link header\n  header.right = nodeMatrix[0][0];\n  header.left = nodeMatrix[0][cols - 1];\n\n  nodeMatrix[0][0].left = header;\n  nodeMatrix[0][cols - 1].right = header;\n}\n\nfunction cover(target) {\n  var colNode = target.column;\n\n  // Unlink target\n  colNode.left.right = colNode.right;\n  colNode.right.left = colNode.left;\n\n  // Move down and remove nodes traversing to the right\n  for (\n    var rowNode = colNode.down;\n    rowNode.rowID !== colNode.rowID;\n    rowNode = rowNode.down\n  ) {\n    for (\n      var rightNode = rowNode.right;\n      rightNode.colID !== rowNode.colID;\n      rightNode = rightNode.right\n    ) {\n      rightNode.up.down = rightNode.down;\n      rightNode.down.up = rightNode.up;\n      nodeMatrix[0][rightNode.colID].nodeCnt--;\n    }\n  }\n}\n\nfunction uncover(target) {\n  var colNode = target.column;\n\n  // Move down and remove nodes traversing to the right\n  for (\n    var rowNode = colNode.up;\n    rowNode.rowID !== colNode.rowID;\n    rowNode = rowNode.up\n  ) {\n    for (\n      var leftNode = rowNode.left;\n      leftNode.colID !== rowNode.colID;\n      leftNode = leftNode.left\n    ) {\n      leftNode.up.down = leftNode;\n      leftNode.down.up = leftNode;\n      nodeMatrix[0][leftNode.colID].nodeCnt++;\n    }\n  }\n\n  // Relink target\n  colNode.left.right = colNode;\n  colNode.right.left = colNode;\n}\n\nfunction getMinColumn() {\n  var h = header;\n  var minCol = h.right;\n  h = h.right.right;\n  do {\n    if (h.nodeCnt < minCol.nodeCnt) minCol = h;\n    h = h.right;\n  } while (h !== header);\n  return minCol;\n}\n\n// Returns Node in row, if any\nfunction getNodeFromRow(row) {\n  for (var i = 0; i < cols; i++) {\n    if (\n      nodeMatrix[row][i] &&\n      nodeMatrix[row][i].column.left.right === nodeMatrix[row][i].column\n    )\n      return nodeMatrix[row][i];\n  }\n}\n\n// Covers all columns that have associated node in row\nfunction choose(row) {\n  var rowNode = getNodeFromRow(row);\n  cover(rowNode);\n  for (\n    var rightNode = rowNode.right;\n    rightNode.colID !== rowNode.colID;\n    rightNode = rightNode.right\n  )\n    cover(rightNode);\n}\n\n// Chose all rows in grid\nfunction chooseGiven(grid) {\n  for (var i = 0; i < 9; i++) {\n    for (var j = 0; j < 9; j++) {\n      if (grid[i][j]) {\n        choose(81 * i + 9 * j + parseInt(grid[i][j]));\n        solution.push(81 * i + 9 * j + parseInt(grid[i][j]));\n      }\n    }\n  }\n}\n\n// Convert rowNodes to a grid\nfunction convertSolution(solution) {\n  var grid = make2DEmpty(9);\n  for (var i = 0; i < 9; i++) {\n    for (var j = 0; j < 9; j++) {\n      grid[i][j] = solution[9 * i + j] - 81 * i - 9 * j;\n    }\n  }\n  return grid;\n}\n\nfunction outputSolution(solution) {\n  solution.sort((a, b) => a - b);\n  return convertSolution(solution);\n}\n\nfunction showResult() {\n  search();\n  let success = false,\n    grid,\n    error;\n  if (uniqueSolutions.length > 1) {\n    error = \"Invalid puzzle. Several unique solutions.\";\n  } else if (uniqueSolutions.length === 0) {\n    error = \"Invalid puzzle. No solution exists.\";\n  } else {\n    grid = outputSolution(uniqueSolutions[0]);\n    success = true;\n  }\n  uniqueSolutions = [];\n  solution = [];\n  header = new Node();\n  return { success, grid, error };\n}\n\n// Find the solution\nfunction search() {\n  if (uniqueSolutions.length > 1) return;\n  // No columns left mean we have a solution\n  if (header.right === header) {\n    uniqueSolutions.push(solution.slice());\n    return;\n  }\n\n  // Chose most constrained column\n  var column = getMinColumn();\n\n  // Cover collisions\n  cover(column);\n\n  for (\n    var rowNode = column.down;\n    rowNode.rowID !== column.rowID;\n    rowNode = rowNode.down\n  ) {\n    solution.push(rowNode.rowID);\n    for (\n      var rightNode = rowNode.right;\n      rightNode.colID !== rowNode.colID;\n      rightNode = rightNode.right\n    )\n      cover(rightNode);\n    search();\n    solution.pop();\n\n    column = rowNode.column;\n    for (\n      var leftNode = rowNode.left;\n      leftNode !== rowNode;\n      leftNode = leftNode.left\n    )\n      uncover(leftNode);\n  }\n  uncover(column);\n}\n","import React from \"react\";\n\nfunction Alert({ alertMessage, setAlertMessage, AlertType, setAlertType }) {\n  return (\n    <div className=\"alert alert-light\">\n      {alertMessage && (\n        <AlertType\n          style={{ fontSize: \"1.5em\", verticalAlign: \"top\", minWidth: \"5%\" }}\n        />\n      )}\n      <div className=\"alert-text\">{alertMessage}</div>\n    </div>\n  );\n}\n\nexport default Alert;\n","import React, { useState } from \"react\";\nimport \"./App.css\";\nimport Grid from \"./Grid.js\";\nimport { solve } from \"./DLX.js\";\nimport { Error, HelpOutline } from \"@material-ui/icons\";\nimport Alert from \"./Alert.js\";\nimport { make2DFull } from \"./utils.js\";\n\nfunction App() {\n  const [grid2D, setGrid2D] = useState(make2DFull(\"\"));\n  const [alertMessage, setAlertMessage] = useState(\n    \"Tip: Use the arrow keys to quickly navigate between boxes!\"\n  );\n  const [AlertType, setAlertType] = useState(HelpOutline);\n  const [focusedBox, setFocusedBox] = useState({\n    focusRow: -1,\n    focusColumn: -1,\n  });\n  return (\n    <div className=\"App\">\n      <h1>Sudoku Solver</h1>\n      <div id=\"table-container\">\n        <Grid\n          grid2D={grid2D}\n          setGrid2D={setGrid2D}\n          focusedBox={focusedBox}\n          setFocusedBox={setFocusedBox}\n        />\n      </div>\n      <Alert\n        alertMessage={alertMessage}\n        setAlertMessage={setAlertMessage}\n        AlertType={AlertType}\n        setAlertType={setAlertType}\n      />\n      <div className=\"button-row\">\n        <div className=\"button-cell\">\n          <button\n            type=\"button\"\n            className=\"btn btn-lg\"\n            id=\"solve\"\n            onClick={() => {\n              const { success, grid, error } = solve(grid2D);\n              if (success) {\n                setGrid2D(grid);\n              } else {\n                setAlertMessage(error);\n                setAlertType(Error);\n              }\n              setFocusedBox({\n                focusRow: -1,\n                focusColumn: -1,\n              });\n            }}\n          >\n            Solve\n          </button>\n        </div>\n        <div className=\"button-cell\">\n          <button\n            type=\"button\"\n            className=\"btn btn-lg\"\n            id=\"clear\"\n            onClick={() => {\n              let arr = make2DFull(\"\");\n              setGrid2D(arr);\n              setAlertMessage(\"\");\n              setAlertType(Error);\n              setFocusedBox({\n                focusRow: -1,\n                focusColumn: -1,\n              });\n            }}\n          >\n            Clear\n          </button>\n        </div>\n      </div>\n      <hr />\n      <footer>\n        Sudoku Solver by&nbsp;\n        <a href=\"https://kevinshannon.dev/\">Kevin Shannon</a> <br />\n        <a href=\"https://github.com/kevin-shannon/sudoku\">View on Github</a>\n      </footer>\n    </div>\n  );\n}\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === \"localhost\" ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === \"[::1]\" ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === \"production\" && \"serviceWorker\" in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener(\"load\", () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            \"This web app is being served cache-first by a service \" +\n              \"worker. To learn more, visit https://bit.ly/CRA-PWA\"\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then((registration) => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === \"installed\") {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                \"New content is available and will be used when all \" +\n                  \"tabs for this page are closed. See https://bit.ly/CRA-PWA.\"\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log(\"Content is cached for offline use.\");\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch((error) => {\n      console.error(\"Error during service worker registration:\", error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { \"Service-Worker\": \"script\" },\n  })\n    .then((response) => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get(\"content-type\");\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf(\"javascript\") === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then((registration) => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        \"No internet connection found. App is running in offline mode.\"\n      );\n    });\n}\n\nexport function unregister() {\n  if (\"serviceWorker\" in navigator) {\n    navigator.serviceWorker.ready\n      .then((registration) => {\n        registration.unregister();\n      })\n      .catch((error) => {\n        console.error(error.message);\n      });\n  }\n}\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.css\";\nimport App from \"./App\";\nimport * as serviceWorker from \"./serviceWorker\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}